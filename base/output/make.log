
 make.py started: 2019-08-06 09:00:44 C:\Users\dgentil1\Desktop\aborto_uru_repo\Aborto-Uruguay\base\code 




Execute:  "C:\Program Files (x86)\Stata14\StataSE-64.exe" /e do "./clean_raw.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   14.2   Copyright 1985-2015 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

110-user Stata network perpetual license:
       Serial number:  401406206058
         Licensed to:  CIS Department
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./clean_raw.do 

. clear all

. set more off

. 
. program main_clean_raw
  1.     *append_different_waves_98_00 
.     *clean_98_00 
.     clean_01_05 
  2.     clean_06
  3.     clean_07
  4.     clean_08
  5.     clean_09_16
  6. end

. 
. /*
> program append_different_waves_98_00
>        
>     foreach year in 1998 1999 2000 {
>         foreach t in p h {
>             foreach w in 1 2 {
>                 foreach c in i m {
>                     import excel using "..\..\raw/`year'/`t'`year's`w'`c'.xls
> ", clear first
>                     tempfile temp_`t'_`w'`c'
>                     save `temp_`t'_`w'`c''
>                     }
>                 append using `temp_`t'_`w'i'
>                 tempfile temp_`t'_`w'
>                 save `temp_`t'_`w''
>                 }
>             append using `temp_`t'_1'
>             save ..\temp\preclean_`year'_`t'.dta, replace
>         }
>          use ..\temp\preclean_`year'_p.dta, clear
> 
>          rename correlativ ident
>          merge m:1 ident using ..\temp\preclean_`year'_h.dta, nogen
>          save ..\temp\preclean_`year'.dta, replace
>     }
>     
> end
> 
> program clean_98_00
>     * Note: can't find: afro asia blanco indigena otro then generated raza eq
> ual missing
>     forvalues year=1998/2000 {
>         use ..\temp\preclean_`year'.dta, replace        
>         
>         rename (ident     persona   pe1        pe1a        pe1b   ///
>                 pe1c      pe1d      pe1e       pe1h        locech ///
>                 nomlocech ht11      hd21       hd22        ht3   ///
>                 pe2       pe3       pt1 ///
>                 pf37                pf06                   pf051 ///
>                 pf38                pf351                  pf052)        ///
>                (numero    pers      nper       anio        semana ///
>                 dpto      secc      segm       estrato     loc    ///
>                 nomloc    y_hogar   nbr_people nbr_above14 nbr_under14 ///
>                 hombre    edad      ytotal ///
>                 meses_trabajando    horas_trabajo          horas_trabajo_p  /
> //
>                 anios_trabajando    busca_trabajo          horas_trabajo_s)
> 
>         replace pobpcoac = 1  if pobpcoac==40
>         replace pobpcoac = 2  if inlist(pobpcoac,11,12)
>         replace pobpcoac = 3  if pobpcoac==23
>         replace pobpcoac = 4  if pobpcoac==21
>         replace pobpcoac = 5  if pobpcoac==22
>         replace pobpcoac = 6  if pobpcoac==34
>         replace pobpcoac = 7  if pobpcoac==33
>         replace pobpcoac = 8  if pobpcoac==32
>         replace pobpcoac = 9  if pobpcoac==30
>         replace pobpcoac = 10 if pobpcoac==31
>         replace pobpcoac = 11 if inlist(pobpcoac,35,36,37,38)
> 
>         gen    c98_resid_house        =    (hc1==1)
>         gen    c98_resid_owned        =    (hd3==1|hd3==2)
>         gen    c98_nbr_rooms        =    hd41
>         gen    c98_nbr_bedrooms    =    hd42
>         gen    c98_b_piped_water    =    (hd6==1)
>         gen    c98_hhld_toilet        =    (hd7==1)
>         gen    c98_b_sewage        =    (hd9==1)
>         gen    c98_hhld_stove        =    (hd102!=7)
>         gen    c98_hhld_hot_water    =    (hd111==1)
>         gen    c98_hhld_refrigerat    =    (hd112==1|hd113==1)
>         gen    c98_hhld_tv            =    (hd114==1|hd115==1)
>         gen    c98_hhld_vcr        =    (hd116==1)
>         gen    c98_hhld_wash_mac    =    (hd117==1)
>         gen    c98_hhld_dishwasher    =    (hd118==1)
>         gen    c98_hhld_microwave    =    (hd119==1)
>         gen    c98_hhld_car        =    (hd1110==1)
>         
>         gen     trimestre = 1 if inrange(semana, 1, 12)
>         replace trimestre = 2 if inrange(semana, 13, 24)
>         replace trimestre = 3 if inrange(semana, 25, 36)
>         replace trimestre = 4 if inrange(semana, 37, 48)
> 
>         gen married = (pe5==1|pe5==2)
>         gen etnia = .
>         
>         gen estudiante = (pobpcoac==33)
>         gen trabajo    = (pobpcoac==2)
>         bysort numero: egen y_hogar_alt = sum(ytotal) 
>         
>         gen anios_prim = clip(pe142,0,6) if pe141 == 1 & (pe11 == 1 | pe12 ==
>  1)
>                 replace anios_prim = 6 if inlist(pe141,2,3,4,5,6) & (pe11 == 
> 1 | pe12 == 1)
> 
>                 gen anios_secun = pe142 if pe141 == 2 & (pe11 == 1 | pe12 == 
> 1)
>                 replace anios_secun = pe142 + 3  if pe141 == 3
>                 replace anios_secun = 6 if anios_secun > 6 & !missing(anios_s
> ecun)      
>                 replace anios_secun = 6 if inlist(pe141,5,6) & (pe11 == 1 | p
> e12 == 1)
>                 
>                 gen anios_terc = pe142 if (pe141 == 5 | pe141 == 6) & (pe11 =
> = 1 | pe12 == 1)
>                 
>                 gen anios_tecn = pe142 if pe141 == 4 & (pe11 == 1 | pe12 == 1
> )
>                 
>                 replace anios_secun = 0 if missing(anios_secun) & !missing(an
> ios_prim)
>                 replace anios_terc = 0 if missing(anios_terc) & ///
>                     (!missing(anios_prim) | !mi(anios_secun))
>                 replace anios_tecn = 0 if missing(anios_tecn) & ///
>                     (!missing(anios_prim) | !mi(anios_secun))
> 
>                 gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>                 replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>                         inlist(anios_tecn,1,2,3,4,5)
>                 replace educ_level = 3 if (anios_secun == 6 & !missing(anios_
> secun) | ///
>                     anios_tecn >= 6 & !missing(anios_tecn))
>                 replace educ_level = 4 if (anios_terc > 0 & !missing(anios_te
> rc))
>                 
>         assert nper==pers
>         drop nper
> 
>         keep numero pers anio trimestre semana dpto secc segm estrato loc nom
> loc ccz ///
>                 peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_
> under14 ///
>                 pobpcoac married etnia c98_* estudiante educ_level anios_* *t
> rabaj*
> 
>         save ..\temp\clean_`year'.dta, replace
>         }
> end
> */
. 
. program clean_01_05
  1.     * Note: can't find: afro asia blanco indigena otro then generated etni
> a equal missing
.     * Note: there is no nomdepto for 2005: check running table nomdpto anio
.     * Can't find: meses_trabajando anios_trabajando
.     
.     foreach year in 2001 2002 2003 2004 2005 {
  2.         foreach t in p h {
  3.             import excel using "..\..\raw/`year'/`t'`year'.xls", clear fir
> st
  4.             save ..\temp\preclean_`year'_`t'.dta, replace
  5.         }
  6.         use ..\temp\preclean_`year'_p.dta, clear
  7. 
.         merge m:1 correlativ using ..\temp\preclean_`year'_h.dta, nogen
  8.         save ..\temp\preclean_`year'.dta, replace
  9.     }
 10.     foreach year in 2001 2002 2003 2004 2005 {
 11.         use ..\temp\preclean_`year'.dta, clear
 12.         
.         rename (correlativ nper  locech          nomlocech ///
>                 e1         e2    pt1             ht11 ///
>                 f17_1            f17_2           f1_1      f23 ///
>                 d14              d16             ht3) ///               
>                (numero     pers  loc             nomloc ///
>                 hombre     edad  ytotal          y_hogar ///
>                 horas_trabajo_p  horas_trabajo_s trabajo_1 busca_trabajo ///
>                 nbr_above14      nbr_people      nbr_under14)
 13. 
.         gen    c98_resid_house        =    (c1==1)
 14.         gen    c98_resid_owned        =    (d2==1|d2==2)
 15.         gen    c98_nbr_rooms        =    d3
 16.         gen    c98_nbr_bedrooms    =    d4
 17.         gen    c98_b_piped_water    =    (d6==1)
 18.         gen    c98_hhld_toilet        =    (d7==1)
 19.         gen    c98_b_sewage        =    (d8==1)
 20.         gen    c98_hhld_stove        =    (d9!=5)
 21.         gen    c98_hhld_hot_water    =    (d10_1==1|d10_2==1)
 22.         gen    c98_hhld_refrigerat    =    (d10_3==1)
 23.         gen    c98_hhld_tv            =    (d10_4==1)
 24.         gen    c98_hhld_vcr        =    (d10_6==1)
 25.         gen    c98_hhld_wash_mac    =    (d10_7==1)
 26.         gen    c98_hhld_dishwasher    =    (d10_8==1)
 27.         gen    c98_hhld_microwave    =    (d10_9==1)
 28.         gen    c98_hhld_car        =    (d10_12==1)
 29.         gen    c01_hhld_computer    =    (d10_10==1)
 30.         gen    c01_hhld_internet    =    (d10_11==1)
 31.         gen    c01_hhld_phone        =    (d10_13==1)
 32.         gen    c01_hhld_cable_tv    =    (d10_5==1)
 33.              
.         capture gen     trimestre = 1 if inlist(mes, 1, 2, 3)
 34.         capture replace trimestre = 2 if inlist(mes, 4, 5, 6)
 35.         capture replace trimestre = 3 if inlist(mes, 7, 8, 9)
 36.         capture replace trimestre = 4 if inlist(mes, 10, 11, 12)
 37.         
.         gen married = (e4==1|e4==2)
 38.         gen etnia = .
 39. 
.         gen estudiante = (pobpcoac==7)
 40.         gen trabajo    = (pobpcoac==2)
 41.         bysort numero: egen y_hogar_alt = sum(ytotal) 
 42.         gen horas_trabajo =  horas_trabajo_p + horas_trabajo_s
 43.         gen meses_trabajando = .
 44.         gen anios_trabajando = .
 45. 
.         /*gen anios_prim = clip(e11_2,0,6) if (e9 == 1 | e10 == 1)
>         replace anios_prim = round(anios_prim)
>         
>         gen anios_secun = clip(e11_3, 0, 6) if (e9 == 1 | e10 == 1)
>         replace anios_secun = round(anios_secun)
>         
>         gen anios_terc = e11_5 + e11_6 if (e9 == 1 | e10 == 1)
>         replace anios_terc = round(anios_terc)
>         
>         gen anios_tecn = e11_4 if (e9 == 1 | e10 == 1)
>         replace anios_tecn = round(anios_tecn)
>         
>         replace anios_secun = 0 if missing(anios_secun) & !missing(anios_prim
> )
>         replace anios_terc = 0 if missing(anios_terc) & ///
>             (!missing(anios_prim) | !mi(anios_secun))
>         replace anios_terc = 0 if anios_secun != 6  
>         replace anios_tecn = 0 if missing(anios_tecn) & ///
>             (!missing(anios_prim) | !mi(anios_secun))
> 
>         gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>         replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>             inlist(anios_tecn,1,2,3,4,5)
>         replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secun) |
>  ///
>             anios_tecn >= 6 & !missing(anios_tecn))
>         replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>                 */
.         
.         keep numero pers anio trimestre mes dpto secc segm estrato loc nomloc
>  ccz ///
>              peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_und
> er14 ///
>              pobpcoac married etnia c98_* c01_* estudiante educ_level anios_*
>  *trabaj*
 46.         
.         save ..\temp\clean_`year'.dta, replace
 47.     }
 48.     * Estudiante: {1=si,2=no} --> but estudiante=0 en 3.5%, would it be no
>  response?
. end

. 
. program clean_06
  1.         use ../temp/raw_2006.dta, clear
  2.         
.         capture rename Dpto dpto
  3.         capture rename Trimestre trimestre
  4.         capture rename Estrato estrato
  5.         capture rename PT1 pt1
  6.         capture rename HT11 ht11
  7.         capture rename HT3 ht3
  8.         capture rename Pobpcoac pobpcoac
  9. 
.         rename (nper  locagr nom_locagr e27  e26    pesoano  pt1             
>  ht11             ///
>                 f62          f81             f93             f82_1           
>  f82_2            ///
>                 d23          d25             ht3             f102            
>                   ///
>                 e38          e39_1           e30_1  e30_2    e30_3  e30_4    
>  e30_5_2)        ///
>                (pers   loc   nomloc     edad hombre pesoan   ytotal     y_hog
> ar                ///
>                 trabajo_1    horas_trabajo_p horas_trabajo_s meses_trabajando
>  anios_trabajando ///
>                 nbr_above14  nbr_people      nbr_under14     busca_trabajo   
>                   ///
>                 live_births  live_births_nbr afro   asia     blanco indigena 
>  otro)
 10. 
.         gen    c98_resid_house        =    (c1!=5)
 11.         gen    c06_mat_walls        =    (c2==1|c2==2)
 12.         gen    c06_mat_roof        =    (c3==1|c3==2)
 13.         gen    c06_mat_floor        =    (c4==1|c4==2)
 14.         gen    c98_resid_owned        =    (d7_1==1|d7_1==2|d7_1==3|d7_1==
> 4)
 15.         gen    c98_nbr_rooms        =    d8
 16.         gen    c98_nbr_bedrooms    =    d9
 17.         gen    c98_b_piped_water    =    (d13==1)
 18.         gen    c98_hhld_toilet        =    (d14==1)
 19.         gen    c98_b_sewage        =    (d17==1)
 20.         gen    c06_b_electr        =    (d18_1==1|d18_1==2)
 21.         gen    c98_hhld_stove        =    (d19!=3)
 22.         gen    c98_hhld_hot_water    =    (d21_1_1==1|d21_1_2==1|d21_1_3==
> 1|d21_2_1==1|d21_2_2==1)
 23.         gen    c98_hhld_refrigerat    =    (d21_3==1|d21_4==1)
 24.         gen    c98_hhld_tv            =    (d21_5_1==1)
 25.         gen    c98_hhld_vcr        =    (d21_8==1|d21_9==1)
 26.         gen    c98_hhld_wash_mac    =    (d21_10==1)
 27.         gen    c98_hhld_dishwasher    =    (d21_12==1)
 28.         gen    c98_hhld_microwave    =    (d21_13==1)
 29.         gen    c98_hhld_car        =    (d21_18_1==1)
 30.         gen    c01_hhld_computer    =    (d21_14_1==1)
 31.         gen    c01_hhld_internet    =    (d21_15==1)
 32.         gen    c01_hhld_phone        =    (d21_16_1==1|d21_17_1==1)
 33.         gen    c01_hhld_cable_tv    =    (d21_7==1)
 34.         
.         gen married  = (e34==1|e37==2) if e34!=0
 35. 
.         replace blanco = 0 if blanco != 1
 36.                 
.         gen estudiante = (pobpcoac == 7)
 37.         gen trabajo    = (pobpcoac == 2)
 38.         bysort numero: egen y_hogar_alt = sum(ytotal) 
 39.         gen horas_trabajo =  horas_trabajo_p + horas_trabajo_s
 40.         
.         /*gen anios_prim = (e50_2 + e50_3) if e48 == 1
>         replace anios_prim = 6 if e48 == 1 & (e50_4 > 0 | e50_5 > 0 | ///
>             e50_6 > 0 | e50_7 > 0 | e50_8 > 0 | e50_9 > 0 | e50_10 > 0 | ///
>             e50_11 > 0 | e50_12 > 0)
>         replace anios_prim = e52_1_1 if e48 == 2 & e51 == 1
>         replace anios_prim = 6 if e48 == 2 & e51 == 1 & ///
>             (e52_2_1 > 0 | e52_3_1 > 0 | e52_4_1 > 0 | e52_5_1 > 0 | e52_6_1 
> > 0 | ///
>              e52_7_1 > 0)
>             
>         gen anios_secun = (e50_4 + e50_5) if e48 == 1
>         replace anios_secun = 6 if e48 == 1 & (e50_6 > 0 | e50_7 > 0 | ///
>             e50_8 > 0 | e50_9 > 0 | e50_10 > 0 | e50_11 > 0 | e50_12 > 0)
>         replace anios_secun = e52_2_1 if e48 == 2 & e51 == 1
>         replace anios_secun = 6 if e48 == 2 & e51 == 1 & ///
>             (e52_4_1 > 0 | e52_5_1 > 0 | e52_6_1 > 0 | ///
>              e52_7_1 > 0)
>         
>         gen anios_terc = (e50_9 + e50_10 + e50_11 + e50_12) if e48 == 1
>         replace anios_terc = (e52_4_1 + e52_5_1 + e52_6_1 + e52_7_1) ///
>             if e48 == 2 & e51 == 1
>         
>         gen anios_tecn = (e50_5 + e50_7 + e50_8) if e48 == 1
>         replace anios_tecn = e52_3_1 if e48 == 2 & e51 == 1 
>         replace anios_tecn = (e52_3_1) if e48 == 2 & e51 == 1
>         
>         replace anios_prim = 6 if anios_secun > 0 & anios_prim == 0
>         replace anios_prim = 6 if anios_terc > 0 & anios_prim == 0
>         replace anios_secun = 6 if anios_terc > 0 & anios_secun == 0
>         
>         replace anios_prim = 0 if e51 == 2
>         replace anios_secun = 0 if e51 == 2
>         replace anios_terc = 0 if e51 == 2
>         replace anios_tecn = 0 if e51 == 2
>         
>         gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>         replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>             inlist(anios_tecn,1,2,3,4,5)
>         replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secun) |
>  ///
>             anios_tecn >= 6 & !missing(anios_tecn))
>         replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>                 */
. 
.         destring anio, replace
 41.         destring secc, replace
 42.         destring segm, replace
 43.         destring estrato, replace
 44. 
.         keep numero pers anio trimestre mes dpto secc segm estrato loc nomloc
>  ccz    ///
>              peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_und
> er14    ///
>              pobpcoac married etnia c98_* c01_* c06_* estudiante educ_level a
> nios_* *trabaj* ///
>              lp_06 li_06 region_3 region_4 live_births*
 45.         save ..\temp\clean_2006, replace    
 46. end

. 
. program clean_07
  1.         use ../temp/raw_2007.dta, clear
  2.         
.         capture rename Dpto dpto
  3.         capture rename Trimestre trimestre
  4.         capture rename Estrato estrato
  5.         capture rename PT1  pt1
  6.         capture rename HT11 ht11
  7.         capture rename HT3  ht3
  8.         capture rename Pobpcoac pobpcoac
  9.                     
.         rename (nper loc_agr pesoano e27      e28   pt1       ht11           
>                    ///
>                 f68          f88              f101            f89_1          
>   f89_2            ///
>                 d24          d26              ht3             f102           
>                    ///
>                 e41          e42_1            e31_1 e31_2     e31_3   e31_4  
>   e31_5_1)         ///
>                (pers loc     pesoan  hombre   edad  ytotal    y_hogar        
>                    ///
>                 trabajo_1    horas_trabajo_p  horas_trabajo_s meses_trabajand
> o anios_trabajando ///
>                 nbr_above14  nbr_people       nbr_under14     busca_trabajo  
>                    ///
>                 live_births  live_births_nbr  afro  asia      blanco  indigen
> a otro)
 10. 
.         gen    c98_resid_house        =    (c1!=5)
 11.         gen    c06_mat_walls        =    (c2==1|c2==2)
 12.         gen    c06_mat_roof        =    (c3==1|c3==2)
 13.         gen    c06_mat_floor        =    (c4==1|c4==2)
 14.         gen    c98_resid_owned        =    (d8_1==1|d8_1==2|d8_1==3|d8_1==
> 4)
 15.         gen    c98_nbr_rooms        =    d9
 16.         gen    c98_nbr_bedrooms    =    d10
 17.         gen    c98_b_piped_water    =    (d14_1==1)
 18.         gen    c98_hhld_toilet        =    (d15==1)
 19.         gen    c98_b_sewage        =    (d18_1==1)
 20.         gen    c06_b_electr        =    (d19_1==1|d19_1==2)
 21.         gen    c98_hhld_stove        =    (d20!=3)
 22.         gen    c98_hhld_hot_water    =    (d22_1_1==1|d22_1_2==1|d22_1_3==
> 1|d22_2_1==1|d22_2_2==1)
 23.         gen    c98_hhld_refrigerat    =    (d22_1_2==1|d22_4==1)
 24.         gen    c98_hhld_tv            =    (d22_5_1==1)
 25.         gen    c98_hhld_vcr        =    (d22_8==1|d22_9==1)
 26.         gen    c98_hhld_wash_mac    =    (d22_10==1)
 27.         gen    c98_hhld_dishwasher    =    (d22_12==1)
 28.         gen    c98_hhld_microwave    =    (d22_13==1)
 29.         gen    c98_hhld_car        =    (d22_18_1==1)
 30.         gen    c01_hhld_computer    =    (d22_14_1==1)
 31.         gen    c01_hhld_internet    =    (d22_15_1==1|d22_15_2==1)
 32.         gen    c01_hhld_phone        =    (d22_16_1==1|d22_17_1==1)
 33.         gen    c01_hhld_cable_tv    =    (d22_7==1)
 34.         
.         gen married  = (e37==1|e40==2) if e37!=0
 35.                 
.         replace blanco = 0 if blanco != 1
 36.         
.         gen estudiante = (pobpcoac == 7)
 37.         gen trabajo    = (pobpcoac == 2)
 38.         bysort numero: egen y_hogar_alt = sum(ytotal) 
 39.         gen horas_trabajo =  horas_trabajo_p + horas_trabajo_s
 40.         
.         /*gen anios_prim = (e52_2 + e52_3) if e50 == 1
>         replace anios_prim = 6 if e50 == 1 & (e52_4 > 0 | e52_5 > 0 | ///
>             e52_6 > 0 | e52_7 > 0 | e52_8 > 0 | e52_9 > 0 | e52_10 > 0 | ///
>             e52_11 > 0 | e52_12 > 0)
>         replace anios_prim = e54_1_1 if e50 == 2 & e53 == 1 
>         replace anios_prim = 6 if e50 == 2 & e53 == 1 & ///
>             (e54_2_1 > 0 | e54_3_1 > 0 | e54_4_1 > 0 | e54_5_1 > 0 | e54_6_1 
> > 0 | ///
>              e54_7_1 > 0)
>                 replace anios_prim = 6 if anios_prim >= 6 & !mi(anios_prim)
>  
>         gen anios_secun = (e52_4 + e52_5) if e50 == 1
>         replace anios_secun = 6 if e50 == 1 & (e52_9 > 0 | e52_10 > 0 | ///
>             e52_11 > 0 | e52_12 > 0)    
>         replace anios_secun = e54_2_1 if e50 == 2 & e53 == 1 
>         replace anios_secun = 6 if e50 == 2 & e53 == 1 & ///
>             (e54_4_1 > 0 | e54_5_1 > 0 | e54_6_1 > 0 | e54_7_1 > 0)
> 
>         gen anios_terc = (e52_9 + e52_10 + e52_11 + e52_12) if e50 == 1
>         replace anios_terc = (e54_4_1 + e54_5_1 + e54_6_1 + e54_7_1) ///
>             if e50 == 2 & e53 == 1
>         
>         gen anios_tecn = (e52_5 + e52_7 + e52_8) if e50 == 1
>         replace anios_tecn = e54_3_1 if e50 == 2 & e53 == 1
>         replace anios_tecn = (e54_3_1) if e50 == 2 & e53 == 1
>         
>         replace anios_prim = 6 if anios_secun > 0 & anios_prim == 0
>         replace anios_prim = 6 if anios_terc > 0 & anios_prim == 0
>         replace anios_secun = 6 if anios_terc > 0 & anios_secun == 0
> 
>         replace anios_prim = 0 if e53 == 2
>         replace anios_secun = 0 if e53 == 2
>         replace anios_terc = 0 if e53 == 2
>         replace anios_tecn = 0 if e53 == 2
>         
>         gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>         replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>             inlist(anios_tecn,1,2,3,4,5)
>         replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secun) |
>  ///
>             anios_tecn >= 6 & !missing(anios_tecn))
>         replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>                 */
. 
.         destring numero, replace
 41.         destring anio, replace
 42.         destring secc, replace
 43.         destring segm, replace
 44.         destring estrato, replace
 45.         
.         gen nomloc = ""
 46. 
.         keep numero pers anio trimestre mes dpto secc segm estrato loc nomloc
>  ccz    ///
>              peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_und
> er14    ///
>              pobpcoac married etnia c98_* c01_* c06_* estudiante educ_level a
> nios_* *trabaj* ///
>              lp_06 li_06 region_3 region_4 live_births*    
 47.         save ..\temp\clean_2007, replace
 48. end 

. 
. program clean_08
  1.         use ../temp/raw_2008.dta, clear
  2.         
.         capture rename Dpto dpto
  3.         capture rename Trimestre trimestre
  4.         capture rename Estrato estrato
  5.         capture rename PT1  pt1
  6.         capture rename HT11 ht11
  7.         capture rename HT3  ht3
  8.             
.         rename (nper e28     nom_locagr      pesoano e27     pt1    ht11     
>                   ///
>                 f68          f88_1           f101            f89_1           
>  f89_2            ///
>                 d24          d26             ht3     f102                    
>                   ///
>                 e41          e42_1           e31_1   e31_2   e31_3  e31_4    
> e31_5_1)          ///
>                (pers edad    nomloc          pesoan  hombre  ytotal  y_hogar 
>                   ///
>                 trabajo_1    horas_trabajo_p horas_trabajo_s meses_trabajando
>  anios_trabajando ///
>                 nbr_above14  nbr_people      nbr_under14     busca_trabajo   
>                   ///
>                 live_births  live_births_nbr afro    asia    blanco indigena 
> otro )
  9. 
.         gen    c98_resid_house        =    (c1!=5)
 10.         gen    c06_mat_walls        =    (c2==1|c2==2)
 11.         gen    c06_mat_roof        =    (c3==1|c3==2)
 12.         gen    c06_mat_floor        =    (c4==1|c4==2)
 13.         gen    c98_resid_owned        =    (d8_1==1|d8_1==2|d8_1==3|d8_1==
> 4)
 14.         gen    c98_nbr_rooms        =    d9
 15.         gen    c98_nbr_bedrooms    =    d10
 16.         gen    c98_b_piped_water    =    (d14_1==1)
 17.         gen    c98_hhld_toilet        =    (d15==1)
 18.         gen    c98_b_sewage        =    (d18_1==1)
 19.         gen    c06_b_electr        =    (d19_1==1|d19_1==2)
 20.         gen    c98_hhld_stove        =    (d20!=3)
 21.         gen    c98_hhld_hot_water    =    (d22_1_1==1|d22_1_2==1|d22_1_3==
> 1|d22_2_1==1|d22_2_2==1)
 22.         gen    c98_hhld_refrigerat    =    (d22_1_2==1|d22_4==1)
 23.         gen    c98_hhld_tv            =    (d22_5_1==1)
 24.         gen    c98_hhld_vcr        =    (d22_8==1|d22_9==1)
 25.         gen    c98_hhld_wash_mac    =    (d22_10==1)
 26.         gen    c98_hhld_dishwasher    =    (d22_12==1)
 27.         gen    c98_hhld_microwave    =    (d22_13==1)
 28.         gen    c98_hhld_car        =    (d22_18_1==1)
 29.         gen    c01_hhld_computer    =    (d22_14_1==1)
 30.         gen    c01_hhld_internet    =    (d22_15_1==1|d22_15_2==1)
 31.         gen    c01_hhld_phone        =    (d22_16_1==1|d22_17_1==1)
 32.         gen    c01_hhld_cable_tv    =    (d22_7==1)
 33.         
.         gen married  = (e37==1|e40==2) if e37!=0
 34.         replace blanco = 0 if blanco != 1
 35.         
.         gen estudiante = (pobpcoac == 7)
 36.         gen trabajo    = (pobpcoac == 2)
 37.         bysort numero: egen y_hogar_alt = sum(ytotal) 
 38.         gen horas_trabajo =  horas_trabajo_p + horas_trabajo_s
 39.         
.         /*gen anios_prim = (e52_2 + e52_3) if (e50 == 1 | e51 == 1)
>         replace anios_prim = 6 if (e50 == 1 | e51 == 1) & (e52_4 > 0 | e52_5 
> > 0 | ///
>             e52_6 > 0 | e52_7_1 > 0 | e52_8 > 0 | e52_9 > 0 | e52_10 > 0 | //
> /
>             e52_11 > 0)
>                 replace anios_prim = (e52_2_V + e52_3_V) if ///
>             ((e52_2 + e52_3) == 0 & !missing(e52_2_V))  
>                 replace anios_prim = 1 if (e52_2 == 9 | e52_3 == 9)
>                 replace anios_prim = 6 if anios_prim >= 6 & !mi(anios_prim)
>          
>         gen anios_secun = (e52_4 + e52_5 + e52_6) if (e50 == 1 | e51 == 1)
>         replace anios_secun = 6 if (e50 == 1 | e51 == 1) & (e52_8 > 0 | e52_9
>  > 0 | ///
>                     e52_10 > 0 | e52_11 > 0)
>                 replace anios_secun = (e52_4_V + e52_5_V + e52_6_V) if ///
>             ((e52_4 + e52_5) == 0 & !missing(e52_4_V))          
>                 replace anios_secun = 1 if (e52_4 == 9 | e52_5 == 9 | e52_6 =
> = 9)
>                 replace anios_secun = 6 if anios_secun >= 6 & !mi(anios_secun
> )
>         
>                 gen anios_terc = (e52_8 + e52_9 + e52_10 + e52_11) if (e50 ==
>  1 | e51 == 1)
>                 replace anios_terc = (e52_9_V + e52_10_V + e52_11_V + e52_12_
> V) if ///
>             ((e52_8 + e52_9 + e52_10 + e52_11) == 0 & !missing(e52_9_V))
>                 replace anios_terc = 1 if (e52_8 == 9 | e52_9 == 9 | e52_10 =
> = 9 | e52_11 == 9)
>                         
>         gen anios_tecn = (e52_7_1) if (e50 == 1 | e51 == 1)
>                 replace anios_tecn = (e52_7_V + e52_8_V ) if ///
>             ((e52_6 + e52_7_1) == 0 & !missing(e52_7_V))
>                 replace anios_tecn = 1 if (e52_6 == 9 | e52_7_1 == 9)
>         
>         replace anios_prim = 6 if anios_secun > 0 & anios_prim == 0
>         replace anios_prim = 6 if anios_terc > 0 & anios_prim == 0
>         replace anios_secun = 6 if anios_terc > 0 & anios_secun == 0
> 
>                 replace anios_prim = 0 if e51 == 2
>                 replace anios_secun = 0 if e51 == 2
>                 replace anios_terc = 0 if e51 == 2
>                 replace anios_tecn = 0 if e51 == 2
>                 
>                 gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>         replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>             inlist(anios_tecn,1,2,3,4,5)
>         replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secun) |
>  ///
>             anios_tecn >= 6 & !missing(anios_tecn))
>         replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>                 */
. 
.         destring numero, replace
 40.         destring anio, replace
 41.         destring secc, replace
 42.         destring segm, replace
 43.         destring estrato, replace
 44.         
.         gen loc = ""    
 45. 
.         keep numero pers anio trimestre mes dpto  secc segm estrato loc nomlo
> c ccz  ///
>              peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_und
> er14    ///
>              pobpcoac married etnia c98_* c01_* c06_* estudiante educ_level a
> nios_* *trabaj* ///
>              lp_06 li_06 region_3 region_4 live_births*
 46.         save ..\temp\clean_2008, replace
 47. end 

. 
. program clean_09_16
  1. 
.     forval year=2009/2016{      
  2.         use ../temp/raw_`year'.dta, clear
  3.         
.         capture rename estratogeo09 estrato
  4.         capture rename estratogeo estrato
  5.         capture rename estred13 estrato
  6.         capture rename PT1 pt1
  7.         capture rename HT11 ht11    
  8.         capture rename HT3 ht3
  9.         capture rename Loc_agr_13 locagr
 10.         capture rename Nom_loc_agr_13 nom_locagr
 11.         capture rename POBPCOAC pobpcoac
 12.             
.         rename (nper e27    e26      locagr nom_locagr      pesoano pt1      
> ht11             ///
>                 f66         f85             f98             f88_1            
> f88_2            ///
>                 d23         d25             ht3             f99              
> e29_6)           ///
>                (pers edad   hombre   loc    nomloc          pesoan  ytotal   
> y_hogar          ///
>                 trabajo_1   horas_trabajo_p horas_trabajo_s meses_trabajando 
> anios_trabajando ///
>                 nbr_above14 nbr_people      nbr_under14     busca_trabajo    
> ascendencia)
 13.         
.         gen    c98_resid_house        =    (c1!=5)
 14.         gen    c06_mat_walls        =    (c2==1|c2==2)
 15.         gen    c06_mat_roof        =    (c3==1|c3==2)
 16.         gen    c06_mat_floor        =    (c4==1|c4==2)
 17.         gen    c98_resid_owned        =    (d8_1==1|d8_1==2|d8_1==3|d8_1==
> 4)
 18.         gen    c98_nbr_rooms        =    d9
 19.         gen    c98_nbr_bedrooms    =    d10
 20.         gen    c98_b_piped_water    =    (d12==1)
 21.         gen    c98_hhld_toilet        =    (d13==1)
 22.         gen    c98_b_sewage        =    (d16==1)
 23.         gen    c06_b_electr        =    (d18==1)
 24.         gen    c98_hhld_stove        =    (d19!=3)
 25.         gen    c98_hhld_hot_water    =    (d21_1==1|d21_2==1)
 26.         gen    c98_hhld_refrigerat    =    (d21_3==1)
 27.         gen    c98_hhld_tv            =    (d21_4==1|d21_5==1)
 28.         gen    c98_hhld_vcr        =    (d21_8==1|d21_9==1)
 29.         gen    c98_hhld_wash_mac    =    (d21_10==1)
 30.         gen    c98_hhld_dishwasher    =    (d21_12==1)
 31.         gen    c98_hhld_microwave    =    (d21_13==1)
 32.         gen    c98_hhld_car        =    (d21_18==1)
 33.         gen    c01_hhld_computer    =    (d21_15==1)
 34.         gen    c01_hhld_internet    =    (d21_16==1)
 35.         gen    c01_hhld_phone        =    (d21_17    ==1)
 36.         gen    c01_hhld_cable_tv    =    (d21_7==1)
 37.         
.         capture gen trimestre = 1 if inlist(mes, 1, 2, 3)
 38.         capture replace trimestre = 2 if inlist(mes, 4, 5, 6)
 39.         capture replace trimestre = 3 if inlist(mes, 7, 8, 9)
 40.         capture replace trimestre = 4 if inlist(mes, 10, 11, 12)
 41.         capture gen pesosem = .
 42.         capture gen pesotri = .
 43. 
.         gen married  = (e33==1|e35!=0|e36==3) if e33!=0
 44.         gen blanco = (ascendencia == 3)
 45.         
.         gen estudiante = (pobpcoac == 7)
 46.         gen trabajo    = (pobpcoac == 2)
 47.         bysort numero: egen y_hogar_alt = sum(ytotal) 
 48.         gen horas_trabajo =  horas_trabajo_p + horas_trabajo_s
 49. 
.         /*if ("`year'" == "2009" | "`year'" == "2010") {
>             gen anios_prim = (e51_2 + e51_3)
>             replace anios_prim = 6 if (e51_4 > 0 | e51_5 > 0 | ///
>                 e51_6 > 0 | e51_7 > 0 | e51_8 > 0 | e51_9 > 0 | e51_10 > 0 | 
> ///
>                 e51_11 > 0)
>             replace anios_prim = 1 if (e51_2 == 9 | e51_3 == 9)
>             replace anios_prim = 6 if anios_prim >= 6 & !mi(anios_prim)
>             
>             gen anios_secun = (e51_4 + e51_5)
>             replace anios_secun = 6 if (e51_8 > 0 | e51_9 > 0 | e51_10 > 0 | 
> ///
>                 e51_11 > 0)
>             replace anios_secun = 1 if (e51_4 == 9 | e51_5 == 9)
>             
>             gen anios_terc = (e51_8 + e51_9 + e51_10 + e51_11)
>             replace anios_terc = 1 if (e51_8 == 9 | e51_9 == 9 | e51_10 == 9 
> | e51_11 == 9)
>             
>             gen anios_tecn = (e51_6 + e51_7)
>             replace anios_tecn = 1 if (e51_6 == 9 | e51_7 == 9)
>             
>             replace anios_prim = 6 if anios_secun > 0 & anios_prim == 0
>             replace anios_prim = 6 if anios_terc > 0 & anios_prim == 0
>             replace anios_secun = 6 if anios_terc > 0 & anios_secun == 0
>             
>             replace anios_prim = 0 if e50 == 2
>             replace anios_secun = 0 if e50 == 2
>             replace anios_terc = 0 if e50 == 2
>             replace anios_tecn = 0 if e50 == 2
>             
>             gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>             replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>                 inlist(anios_tecn,1,2,3,4,5)
>             replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secu
> n) | ///
>                 anios_tecn >= 6 & !missing(anios_tecn))
>             replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>             }
>         else {
>             gen anios_prim = (e51_2 + e51_3)                    
>                         replace anios_prim = 6 if (e51_4 > 0 | e51_5 > 0 | //
> /
>                 e51_6 > 0 | e51_7 > 0 | e51_8 > 0 | e51_9 > 0 | e51_10 > 0 | 
> ///
>                 e51_11 > 0)
>             replace anios_prim = 1 if (e51_2 == 9 | e51_3 == 9)
>             replace anios_prim = 6 if anios_prim >= 6 
>                 
>             gen anios_secun = (e51_4 + e51_5)
>             replace anios_secun = 6 if (e51_8 > 0 | e51_9 > 0 | e51_10 > 0 | 
> ///
>                 e51_11 > 0)
>             replace anios_secun = 1 if (e51_4 == 9 | e51_5 == 9)  
>                         
>             gen anios_terc = (e51_8 + e51_9 + e51_10 + e51_11)
>             replace anios_terc = 1 if (e51_8 == 9 | e51_9 == 9 | e51_10 == 9 
> | e51_11 == 9)
>             
>             gen anios_tecn = (e51_6 + e51_7)
>             replace anios_tecn = 1 if (e51_6 == 9 | e51_7 == 9)
>             
>             replace anios_prim = 6 if anios_secun > 0 & anios_prim == 0
>             replace anios_prim = 6 if anios_terc > 0 & anios_prim == 0
>             replace anios_secun = 6 if anios_terc > 0 & anios_secun == 0
>             
>                         replace anios_prim = 0 if e49 == 2
>             replace anios_secun = 0 if e49 == 2
>             replace anios_terc = 0 if e49 == 2
>             replace anios_tecn = 0 if e49 == 2
>                         
>             gen educ_level = 1 if (anios_secun == 0 & anios_tecn == 0)
>             replace educ_level = 2 if inlist(anios_secun,1,2,3,4,5) | ///
>                 inlist(anios_tecn,1,2,3,4,5)
>             replace educ_level = 3 if (anios_secun == 6 & !missing(anios_secu
> n) | ///
>                 anios_tecn >= 6 & !missing(anios_tecn))
>             replace educ_level = 4 if (anios_terc > 0 & !missing(anios_terc))
>         }
>                 */
.                 
.         gen live_births     = .
 50.         gen live_births_nbr = .
 51.         
.         destring numero, replace
 52.         destring anio, replace
 53.         destring secc, replace
 54.         destring segm, replace
 55.         destring estrato, replace
 56.         
.         keep numero pers anio trimestre mes dpto secc segm estrato loc nomloc
>  ccz*  ///
>              peso* hombre edad ytotal y_hogar* nbr_people nbr_above14 nbr_und
> er14    ///
>              pobpcoac married etnia c98_* c01_* c06_* estudiante educ_level a
> nios_* *trabaj* ///
>              lp_06 li_06 region_3 region_4 live_births*
 57.         save ..\temp\clean_`year', replace
 58.         }
 59. end

. 
. main_clean_raw
file ..\temp\preclean_2001_p.dta saved
file ..\temp\preclean_2001_h.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            57,410  
    -----------------------------------------
file ..\temp\preclean_2001.dta saved
file ..\temp\preclean_2002_p.dta saved
file ..\temp\preclean_2002_h.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            56,333  
    -----------------------------------------
file ..\temp\preclean_2002.dta saved
file ..\temp\preclean_2003_p.dta saved
file ..\temp\preclean_2003_h.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            55,369  
    -----------------------------------------
file ..\temp\preclean_2003.dta saved
file ..\temp\preclean_2004_p.dta saved
file ..\temp\preclean_2004_h.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            55,587  
    -----------------------------------------
file ..\temp\preclean_2004.dta saved
file ..\temp\preclean_2005_p.dta saved
file ..\temp\preclean_2005_h.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            54,330  
    -----------------------------------------
file ..\temp\preclean_2005.dta saved
(57,410 missing values generated)
(57,410 missing values generated)
(57,410 missing values generated)
variable educ_level not found
r(111);

end of do-file
r(111);


Execute:  "C:\Program Files (x86)\Stata14\StataSE-64.exe" /e do "./append_years.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   14.2   Copyright 1985-2015 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

110-user Stata network perpetual license:
       Serial number:  401406206058
         Licensed to:  CIS Department
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./append_years.do 

. clear all

. set more off

. adopath + ../../library/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files (x86)\Stata14\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata14\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../library/stata/gslab_misc/ado"

. 
. program main_append_years
  1.         append_years
  2. end

. 
. program recode_dummies
  1. syntax, vars(varlist)
  2.         foreach var in `vars' {
  3.                 replace `var'=0 if `var'==2
  4.         }
  5. end

. 
. program append_years
  1.         use ..\temp\clean_1998.dta, clear
  2.         
.         forval year=2001/2016{
  3.             append using ..\temp\clean_`year'.dta
  4.         }
  5.         replace anio = 1998 if anio == 98
  6.         replace anio = 1999 if anio == 99
  7.         replace anio = 2000 if anio == 0
  8.         
.         * asserting basic properties: 
.         * - that there are no missing departamentos in any year
.         * - and the primary keys
.         /*forval year=2001/2016{
>             unique dpto if anio == `year'
>                 local n = r(sum)
>                 assert `n' == 19
>         }
>         
>         isid numero pers anio*/
.         
.         recode_dummies, vars(trabajo_1 hombre busca_trabajo)
  9.         
.         save_data ..\output\clean_2001_2016, key(numero pers anio) replace
 10. end

. 
. main_append_years
(note: variable anio was byte, now int to accommodate using data's values)
(note: variable horas_trabajo was byte, now float to accommodate using data's
       values)
(note: variable meses_trabajando was byte, now float to accommodate using
       data's values)
(note: variable anios_trabajando was byte, now float to accommodate using
       data's values)
(note: variable numero was long, now double to accommodate using data's
       values)
(note: variable dpto was byte, now double to accommodate using data's values)
(note: variable ccz was byte, now double to accommodate using data's values)
(note: variable trimestre was float, now double to accommodate using data's
       values)
(note: variable mes was byte, now double to accommodate using data's values)
(note: variable pesoan was int, now double to accommodate using data's
       values)
(note: variable pesosem was int, now double to accommodate using data's
       values)
(note: variable pesotri was int, now double to accommodate using data's
       values)
(note: variable pers was byte, now double to accommodate using data's values)
(note: variable hombre was byte, now double to accommodate using data's
       values)
(note: variable edad was byte, now double to accommodate using data's values)
(note: variable trabajo_1 was byte, now double to accommodate using data's
       values)
(note: variable horas_trabajo_p was byte, now double to accommodate using
       data's values)
(note: variable meses_trabajando was float, now double to accommodate using
       data's values)
(note: variable anios_trabajando was float, now double to accommodate using
       data's values)
(note: variable horas_trabajo_s was byte, now double to accommodate using
       data's values)
(note: variable busca_trabajo was byte, now double to accommodate using
       data's values)
(note: variable pobpcoac was byte, now double to accommodate using data's
       values)
(note: variable ytotal was long, now double to accommodate using data's
       values)
(note: variable nbr_above14 was byte, now double to accommodate using data's
       values)
(note: variable nbr_people was byte, now double to accommodate using data's
       values)
(note: variable nbr_under14 was byte, now double to accommodate using data's
       values)
(note: variable y_hogar was long, now double to accommodate using data's
       values)
(note: variable anio was int, now double to accommodate using data's values)
(note: variable loc was str4, now str5 to accommodate using data's values)
(note: variable estrato was byte, now double to accommodate using data's
       values)
(label Pobpcoac already defined)
(label f102 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label f102 already defined)
(label f68 already defined)
(label e41 already defined)
(label e27 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label e26 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label e26 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label e26 already defined)
(label estratogeo09 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label dpto already defined)
(note: variable nomloc was str43, now str104 to accommodate using data's
       values)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label e26 already defined)
(label mes already defined)
(label region_4 already defined)
(label region_3 already defined)
(label dpto already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label e26 already defined)
(label region_4 already defined)
(label region_3 already defined)
(label mes already defined)
(label dpto already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label e26 already defined)
(label region_4 already defined)
(label region_3 already defined)
(label estred13 already defined)
(label mes already defined)
(label dpto already defined)
(label region_3 already defined)
(label region_4 already defined)
(label dpto already defined)
(label mes already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label estred13 already defined)
(label e26 already defined)
(label region_4 already defined)
(label region_3 already defined)
(label dpto already defined)
(label mes already defined)
(label pobpcoac already defined)
(label f99 already defined)
(label f66 already defined)
(label estred13 already defined)
(label e26 already defined)
(56,857 real changes made)
(0 real changes made)
(0 real changes made)
(687,523 real changes made)
(1,000,829 real changes made)
(695,486 real changes made)
(data now sorted by numero pers anio)
  variable horas_trabajo was float now int
  variable c98_resid_house was float now byte
  variable c98_resid_owned was float now byte
  variable c98_nbr_rooms was float now byte
  variable c98_nbr_bedrooms was float now byte
  variable c98_b_piped_water was float now byte
  variable c98_hhld_toilet was float now byte
  variable c98_b_sewage was float now byte
  variable c98_hhld_stove was float now byte
  variable c98_hhld_hot_water was float now byte
  variable c98_hhld_refrigerat was float now byte
  variable c98_hhld_tv was float now byte
  variable c98_hhld_vcr was float now byte
  variable c98_hhld_wash_mac was float now byte
  variable c98_hhld_dishwasher was float now byte
  variable c98_hhld_microwave was float now byte
  variable c98_hhld_car was float now byte
  variable married was float now byte
  variable etnia was float now byte
  variable estudiante was float now byte
  variable trabajo was float now byte
  variable anios_prim was float now byte
  variable anios_secun was float now byte
  variable anios_terc was float now byte
  variable anios_tecn was float now byte
  variable educ_level was float now byte
  variable c01_hhld_computer was float now byte
  variable c01_hhld_internet was float now byte
  variable c01_hhld_phone was float now byte
  variable c01_hhld_cable_tv was float now byte
  variable c06_mat_walls was float now byte
  variable c06_mat_roof was float now byte
  variable c06_mat_floor was float now byte
  variable c06_b_electr was float now byte
  variable numero was double now long
  variable pers was double now byte
  variable anio was double now int
  variable dpto was double now byte
  variable estrato was double now byte
  variable hombre was double now byte
  variable edad was double now byte
  variable pobpcoac was double now byte
  variable horas_trabajo_p was double now byte
  variable horas_trabajo_s was double now byte
  variable busca_trabajo was double now byte
  variable meses_trabajando was double now byte
  variable anios_trabajando was double now byte
  variable pesotri was double now int
  variable pesosem was double now int
  variable pesoan was double now int
  variable ccz was double now byte
  variable nbr_people was double now byte
  variable nbr_above14 was double now byte
  variable nbr_under14 was double now byte
  variable trimestre was double now byte
  variable mes was double now byte
  variable trabajo_1 was double now byte
  variable region_3 was double now byte
  variable region_4 was double now byte
  variable pesomen was double now int
  variable live_births was double now byte
  variable live_births_nbr was double now byte
  variable li_06 was double now int
  variable ccz04 was double now byte
  variable ccz10 was double now byte
  (585,932,907 bytes saved)
===============================================================================
> ===================
File: ..\output\clean_2001_2016
Key: numero pers anio
===============================================================================
> ===================
  1896223:74(105227):4086255960:485494239

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      numero |  1,896,223    7.98e+08    9.85e+08          1   2.02e+09
        pers |  1,896,223    2.380981    1.504865          1         25
        anio |  1,896,223    2008.988     4.46842       1998       2016
      semana |     56,857     24.3248    13.78256          1         48
        dpto |  1,896,223    5.910126    5.846233          1         19
-------------+---------------------------------------------------------
        secc |  1,790,963    8.633498    15.99938          0         99
        segm |  1,790,963    55.97539    89.83519          0        845
     estrato |  1,896,223    5.735435    2.968623          1         12
      hombre |  1,896,223    .4721971    .4992265          0          1
        edad |  1,896,223    36.78974    23.45924          0         99
-------------+---------------------------------------------------------
    pobpcoac |  1,896,223     3.80653     3.20113          1         11
horas_trab~p |  1,896,223    17.70473    22.55873          0         99
horas_trab~s |  1,896,223    .8728472    4.775311          0         98
horas_trab~o |  1,896,223    18.60692    23.60409          0        180
busca_trab~o |  1,896,223    .0717885    .2581375          0          1
-------------+---------------------------------------------------------
meses_trab~o |  1,617,194    .5391072    2.499745          0         80
anios_trab~o |  1,617,194    4.020581     8.32721          0         98
      ytotal |  1,896,223    9129.439    17210.69          0    7244333
     pesotri |  1,775,761    105.3157     54.0713          1       1527
     pesosem |  1,657,170      52.149    28.29783          3       1345
-------------+---------------------------------------------------------
      pesoan |  1,896,223    26.51131    13.50505          1       1323
         ccz |  1,745,746    3.757554    5.445319          0         18
         loc |          0
      nomloc |          0
  nbr_people |  1,896,223    3.761734    1.872122          1         25
-------------+---------------------------------------------------------
 nbr_above14 |  1,896,223    2.770823    1.246363          1         16
 nbr_under14 |  1,896,223    .9907659    1.278672          0         13
     y_hogar |  1,896,223    28117.58    35286.08          0    7681180
c98_resid_~e |  1,896,223    .9962515    .0611102          0          1
c98_resid_~d |  1,896,223    .6392102    .4802298          0          1
-------------+---------------------------------------------------------
c98_nbr_ro~s |  1,896,223    3.579446    1.319121          1         80
c98_nbr_be~s |  1,896,223    2.192152     .837146          0         40
c98_b_pipe~r |  1,896,223    .9522229    .2132943          0          1
c98_hhld_t~t |  1,896,223    .9110226    .2847112          0          1
c98_b_sewage |  1,896,223    .5616729     .496182          0          1
-------------+---------------------------------------------------------
c98_hhld_s~e |  1,896,223    .9330279    .2499737          0          1
c98_hhld_h~r |  1,896,223    .8634976    .3433214          0          1
c98_hhld_r~t |  1,896,223    .8349218    .3712512          0          1
 c98_hhld_tv |  1,896,223    .9503054    .2173133          0          1
c98_hhld_vcr |  1,896,223    .4828203    .4997049          0          1
-------------+---------------------------------------------------------
c98_hhld_w~c |  1,896,223    .7028699    .4569945          0          1
c98_hhld_d~r |  1,896,223    .0403434    .1967633          0          1
c98_hhld_m~e |  1,896,223    .4805337    .4996211          0          1
c98_hhld_car |  1,896,223    .3684851     .482394          0          1
   trimestre |  1,896,223    2.498105    1.116807          1          4
-------------+---------------------------------------------------------
     married |  1,579,901    .5348993    .4987807          0          1
       etnia |  1,560,337    2.259484    .9788979          0          4
  estudiante |  1,896,223    .0664706    .2491029          0          1
     trabajo |  1,896,223    .4494508    .4974383          0          1
 y_hogar_alt |  1,896,223     28577.3    32680.66          0    7289481
-------------+---------------------------------------------------------
  anios_prim |  1,873,470    4.967863    1.957963          0          6
 anios_secun |  1,873,470    2.058608    2.406148          0          6
  anios_terc |  1,889,967    .4596652    1.416019          0         40
  anios_tecn |  1,873,470    .2496224    .7746277          0          8
  educ_level |  1,873,470    1.872318    1.005189          1          4
-------------+---------------------------------------------------------
         mes |  1,839,366    6.494094    3.444294          1         12
   trabajo_1 |  1,839,366    .4234492    .4941054          0          1
c01_hhld_c~r |  1,839,366    .5143044    .4997955          0          1
c01_hhld_i~t |  1,839,366     .350274    .4770558          0          1
c01_hhld_p~e |  1,839,366    .7160603     .450908          0          1
-------------+---------------------------------------------------------
c01_hhld_c~v |  1,839,366    .5446029    .4980067          0          1
    region_3 |  1,560,337    1.791686    .7105442          1          3
    region_4 |  1,560,337    1.874478    .8836783          1          4
     pesomen |  1,439,875    269.4868    116.7817          1       2451
 live_births |    544,628    1.037506    .6892997          0          2
-------------+---------------------------------------------------------
live_birth~r |    544,628     1.42473    1.954932          0         99
       li_06 |  1,560,337    1751.036    550.9899        898       3021
       lp_06 |  1,560,337    17719.04    9722.893       2214   132026.8
c06_mat_wa~s |  1,560,337     .971983    .1650215          0          1
c06_mat_roof |  1,560,337    .5369802    .4986308          0          1
-------------+---------------------------------------------------------
c06_mat_fl~r |  1,560,337    .7705964    .4204494          0          1
c06_b_electr |  1,560,337    .9857172    .1186542          0          1
       ccz04 |    120,462    3.528764    5.341155          0         18
       ccz10 |    120,462    3.552116    5.353865          0         18




(note: file ..\output\clean_2001_2016.dta not found)
file ..\output\clean_2001_2016.dta saved

. 
end of do-file

 make.py ended: 2019-08-06 09:04:47
